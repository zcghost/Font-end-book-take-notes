<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>遍历HTML文档的内容</title>
	<style type="text/css">
		    *{
		    	padding:0;
		    	margin:0;
		    }
		    p{
		    	text-align:center;
		    }
	</style>
</head>
<body>
		<p>
			<!-- 定义链接和按钮 -->
			<a href="#" id="myLink">链接</a><br /><br />
			<input type="button" value="遍历文档树" name="">
		</p>
		<script type="text/javascript">
				   var oBtn = document.querySelector("input");
			       // 遍历文档树
  				   function getDomTree(){
  				   	  alert(text(document.body));  // 用提示框来显示树的内容
  				   }
  				   function text(elem){
  				   	  var t = "";      // 定义文字的字符串
  				   	  // 获取该节点的所有子节点
  				   	  var elemelem = elem.childNodes;
  				   	  // 遍历所有的子节点
  				   	  for(var i = 0;i<elemelem.length;i++){
  				   	  	  // 当前节点
  				   	  	  var e = elemelem[i];
  				   	  	  // 文本,注释节点不被遍历,并判断其是否为直接父节点
  				   	  	  if(e.parentNode == elem && e.nodeType == 1){
  				   	  	  	  t += e.tagName+'';   // 把标签名添加到文本内容里
  				   	  	  	  // 循环子节点
  				   	  	  	  if(e.childNodes.length>0){
  				   	  	  	  	 // 如果子节点只有一个文本子节点,则跳过
  				   	  	  	  	 if(e.childNodes.length == 1){
  				   	  	  	  	 	var fe = e.childNodes[0];
  				   	  	  	  	 	if(fe.nodeType == 3){  // 是否为文本的子节点
  				   	  	  	  	 	   continue; // 跳过
  				   	  	  	  	 	}
  				   	  	  	  	 }
  				   	  	  	  	 t += '\n\t';    // 子节点分隔符
  				   	  	  	  	 t += text(e);   // 递归其他子元素的子节点
  				   	  	  	  }
  				   	  	  }
  				   	  }
  				   	  return t.toLowerCase();      // 返回得到文本
  				   }
  				   oBtn.onclick = function(){
  				   	   getDomTree();
  				   }
		</script>
</body>
</html>