<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>设置为首页</title>
</head>
<body>
		<!-- 设为首页的链接 -->
		<p style="text-align:center"><a href="#">设置为首页</a></p>

		<script type="text/javascript">
			       var oBtn = document.querySelector("a");
				   /*// 设置为首页的功能函数
			       function setMyHomePage(){
			       	   // 判断是否为ie浏览器
			       	   if(document.all){
			       	   	  // 设置body的style.behavior
			       	   	  document.body.style.behavior = "url(#default#homepage)";
			       	   	  // 设置首页地止
			       	   	  document.body.setHomePage('http://www.google.com');
			       	   }else{
			       	   	  alert("您好,您的浏览器不支持自动设置页面为首页功能,请您手动在浏览器里设置该页面为首页");
			       	   }
			       }*/
			       //设为首页
				   function setHomePage(URL){
						URL=URL||window.location.href;
						if(document.all){//IE类浏览器
							document.body.style.behavior='url(#default#homepage)';
							document.body.setHomePage(URL);
						}else if(window.sidebar){//火狐类浏览器
							if(window.netscape){
								try{
									netscape.security.PrivilegeManager.enablePrivilege("UniversalXPConnect");
								}catch(e){
									alert("该操作被浏览器拒绝，如果想启用该功能，请在地址栏内输入 about:config,然后将项 signed.applets.codebase_principal_support 值该为true");
								}
							}
							var prefs=Components.classes['@mozilla.org/preferences-service;1'].getService(Components.interfaces.nsIPrefBranch);
							prefs.setCharPref('browser.startup.homepage',URL);
						}
					}
			       oBtn.onclick = function(){
			       	  setHomePage("http://www.google.com");
			       }
		</script>
		<!-- 
				该操作被浏览器拒绝，如果想启用该功能，请在地址栏内输入 about:config,然后将项 signed.applets.codebase_principal_support 值该为true

		 -->
</body>
</html>